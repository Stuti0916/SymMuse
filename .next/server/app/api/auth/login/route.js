"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_stutishah_Downloads_flowcare_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/login/route.ts */ \"(rsc)/./app/api/auth/login/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"/Users/stutishah/Downloads/flowcare/app/api/auth/login/route.ts\",\n    nextConfigOutput,\n    userland: _Users_stutishah_Downloads_flowcare_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN0dXRpc2hhaCUyRkRvd25sb2FkcyUyRmZsb3djYXJlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnN0dXRpc2hhaCUyRkRvd25sb2FkcyUyRmZsb3djYXJlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8/NGE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3R1dGlzaGFoL0Rvd25sb2Fkcy9mbG93Y2FyZS9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbG9naW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3N0dXRpc2hhaC9Eb3dubG9hZHMvZmxvd2NhcmUvYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.ts":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth_auth_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth/auth.js */ \"(rsc)/./lib/auth/auth.js\");\n\n\nconst authService = new _lib_auth_auth_js__WEBPACK_IMPORTED_MODULE_1__.AuthService();\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { email, password } = body;\n        if (!email || !password) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Email and password are required\"\n            }, {\n                status: 400\n            });\n        }\n        const result = await authService.login(email, password);\n        if (result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                user: result.user,\n                token: result.token\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: result.error\n            }, {\n                status: 401\n            });\n        }\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTREO0FBQ1o7QUFFaEQsTUFBTUUsY0FBYyxJQUFJRCwwREFBV0E7QUFFNUIsZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUdIO1FBRTVCLElBQUksQ0FBQ0UsU0FBUyxDQUFDQyxVQUFVO1lBQ3ZCLE9BQU9SLHFEQUFZQSxDQUFDTSxJQUFJLENBQUM7Z0JBQUVHLE9BQU87WUFBa0MsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3ZGO1FBRUEsTUFBTUMsU0FBUyxNQUFNVCxZQUFZVSxLQUFLLENBQUNMLE9BQU9DO1FBRTlDLElBQUlHLE9BQU9FLE9BQU8sRUFBRTtZQUNsQixPQUFPYixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO2dCQUN2Qk8sU0FBUztnQkFDVEMsTUFBTUgsT0FBT0csSUFBSTtnQkFDakJDLE9BQU9KLE9BQU9JLEtBQUs7WUFDckI7UUFDRixPQUFPO1lBQ0wsT0FBT2YscURBQVlBLENBQUNNLElBQUksQ0FBQztnQkFBRU8sU0FBUztnQkFBT0osT0FBT0UsT0FBT0YsS0FBSztZQUFDLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNsRjtJQUNGLEVBQUUsT0FBT0QsT0FBTztRQUNkLE9BQU9ULHFEQUFZQSxDQUFDTSxJQUFJLENBQUM7WUFBRUcsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvYXV0aC9sb2dpbi9yb3V0ZS50cz80ZjI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gXCJAL2xpYi9hdXRoL2F1dGguanNcIlxuXG5jb25zdCBhdXRoU2VydmljZSA9IG5ldyBBdXRoU2VydmljZSgpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGJvZHlcblxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkXCIgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLmxvZ2luKGVtYWlsLCBwYXNzd29yZClcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXNlcjogcmVzdWx0LnVzZXIsXG4gICAgICAgIHRva2VuOiByZXN1bHQudG9rZW4sXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9LCB7IHN0YXR1czogNDAxIH0pXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkF1dGhTZXJ2aWNlIiwiYXV0aFNlcnZpY2UiLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiZW1haWwiLCJwYXNzd29yZCIsImVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwibG9naW4iLCJzdWNjZXNzIiwidXNlciIsInRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/auth.js":
/*!**************************!*\
  !*** ./lib/auth/auth.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _database_mongodb_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../database/mongodb.js */ \"(rsc)/./lib/database/mongodb.js\");\n// Authentication System\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key-change-in-production\";\nclass AuthService {\n    constructor(){\n        this.dbOps = null;\n        this.initPromise = this.initDatabase();\n    }\n    async initDatabase() {\n        try {\n            const { db } = await (0,_database_mongodb_js__WEBPACK_IMPORTED_MODULE_2__.connectToDatabase)();\n            this.dbOps = new _database_mongodb_js__WEBPACK_IMPORTED_MODULE_2__.DatabaseOperations(db);\n            return this.dbOps;\n        } catch (error) {\n            console.error(\"Failed to initialize database:\", error);\n            throw error;\n        }\n    }\n    async ensureDatabase() {\n        if (!this.dbOps) {\n            await this.initPromise;\n        }\n        return this.dbOps;\n    }\n    async register(userData) {\n        try {\n            const dbOps = await this.ensureDatabase();\n            // Check if user already exists\n            const existingUser = await dbOps.findUserByEmail(userData.email);\n            if (existingUser) {\n                throw new Error(\"User already exists with this email\");\n            }\n            // Hash password\n            const saltRounds = 12;\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(userData.password, saltRounds);\n            // Create user with default preferences\n            const newUser = {\n                email: userData.email,\n                password: hashedPassword,\n                profile: {\n                    firstName: userData.firstName || \"\",\n                    lastName: userData.lastName || \"\",\n                    dateOfBirth: userData.dateOfBirth || null,\n                    profilePicture: \"\",\n                    bio: \"\",\n                    location: \"\"\n                },\n                preferences: {\n                    cycleLength: 28,\n                    periodLength: 5,\n                    notifications: {\n                        periodReminder: true,\n                        ovulationReminder: true,\n                        moodTracking: true\n                    },\n                    privacy: {\n                        profileVisibility: \"public\",\n                        shareData: false\n                    }\n                },\n                subscription: {\n                    plan: \"free\",\n                    startDate: new Date(),\n                    endDate: null,\n                    stripeCustomerId: null\n                }\n            };\n            const result = await dbOps.createUser(newUser);\n            // Generate JWT token\n            const token = this.generateToken(result.insertedId);\n            return {\n                success: true,\n                user: {\n                    ...newUser,\n                    _id: result.insertedId\n                },\n                token\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    async login(email, password) {\n        try {\n            const dbOps = await this.ensureDatabase();\n            // Find user by email\n            const user = await dbOps.findUserByEmail(email);\n            if (!user) {\n                throw new Error(\"Invalid email or password\");\n            }\n            // Verify password\n            const isValidPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, user.password);\n            if (!isValidPassword) {\n                throw new Error(\"Invalid email or password\");\n            }\n            // Generate JWT token\n            const token = this.generateToken(user._id);\n            // Remove password from user object\n            const { password: _, ...userWithoutPassword } = user;\n            return {\n                success: true,\n                user: userWithoutPassword,\n                token\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    generateToken(userId) {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n            userId: userId.toString()\n        }, JWT_SECRET, {\n            expiresIn: \"7d\"\n        });\n    }\n    verifyToken(token) {\n        try {\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n            return decoded;\n        } catch (error) {\n            throw new Error(\"Invalid or expired token\");\n        }\n    }\n    // Middleware for protecting routes\n    async authenticateToken(req, res, next) {\n        const authHeader = req.headers[\"authorization\"];\n        const token = authHeader && authHeader.split(\" \")[1] // Bearer TOKEN\n        ;\n        if (!token) {\n            return res.status(401).json({\n                error: \"Access token required\"\n            });\n        }\n        try {\n            const decoded = this.verifyToken(token);\n            req.userId = decoded.userId;\n            next();\n        } catch (error) {\n            return res.status(403).json({\n                error: \"Invalid or expired token\"\n            });\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxPQUFPO1lBQXdCO1FBQy9EO1FBRUEsSUFBSTtZQUNGLE1BQU13RCxVQUFVLElBQUksQ0FBQ0QsV0FBVyxDQUFDaEI7WUFDakNvQixJQUFJUixNQUFNLEdBQUdLLFFBQVFMLE1BQU07WUFDM0JVO1FBQ0YsRUFBRSxPQUFPN0QsT0FBTztZQUNkLE9BQU80RCxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFbEUsT0FBTztZQUEyQjtRQUNsRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2F1dGgvYXV0aC5qcz9lNjk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhlbnRpY2F0aW9uIFN5c3RlbVxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCJcbmltcG9ydCB7IGNvbm5lY3RUb0RhdGFiYXNlLCBEYXRhYmFzZU9wZXJhdGlvbnMgfSBmcm9tIFwiLi4vZGF0YWJhc2UvbW9uZ29kYi5qc1wiXG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8IFwieW91ci1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9uXCJcblxuZXhwb3J0IGNsYXNzIEF1dGhTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYk9wcyA9IG51bGxcbiAgICB0aGlzLmluaXRQcm9taXNlID0gdGhpcy5pbml0RGF0YWJhc2UoKVxuICB9XG5cbiAgYXN5bmMgaW5pdERhdGFiYXNlKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRiIH0gPSBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpXG4gICAgICB0aGlzLmRiT3BzID0gbmV3IERhdGFiYXNlT3BlcmF0aW9ucyhkYilcbiAgICAgIHJldHVybiB0aGlzLmRiT3BzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZTpcIiwgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGVuc3VyZURhdGFiYXNlKCkge1xuICAgIGlmICghdGhpcy5kYk9wcykge1xuICAgICAgYXdhaXQgdGhpcy5pbml0UHJvbWlzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kYk9wc1xuICB9XG5cbiAgYXN5bmMgcmVnaXN0ZXIodXNlckRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGJPcHMgPSBhd2FpdCB0aGlzLmVuc3VyZURhdGFiYXNlKClcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGJPcHMuZmluZFVzZXJCeUVtYWlsKHVzZXJEYXRhLmVtYWlsKVxuICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGFscmVhZHkgZXhpc3RzIHdpdGggdGhpcyBlbWFpbFwiKVxuICAgICAgfVxuXG4gICAgICAvLyBIYXNoIHBhc3N3b3JkXG4gICAgICBjb25zdCBzYWx0Um91bmRzID0gMTJcbiAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlckRhdGEucGFzc3dvcmQsIHNhbHRSb3VuZHMpXG5cbiAgICAgIC8vIENyZWF0ZSB1c2VyIHdpdGggZGVmYXVsdCBwcmVmZXJlbmNlc1xuICAgICAgY29uc3QgbmV3VXNlciA9IHtcbiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgIHByb2ZpbGU6IHtcbiAgICAgICAgICBmaXJzdE5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSB8fCBcIlwiLFxuICAgICAgICAgIGxhc3ROYW1lOiB1c2VyRGF0YS5sYXN0TmFtZSB8fCBcIlwiLFxuICAgICAgICAgIGRhdGVPZkJpcnRoOiB1c2VyRGF0YS5kYXRlT2ZCaXJ0aCB8fCBudWxsLFxuICAgICAgICAgIHByb2ZpbGVQaWN0dXJlOiBcIlwiLFxuICAgICAgICAgIGJpbzogXCJcIixcbiAgICAgICAgICBsb2NhdGlvbjogXCJcIixcbiAgICAgICAgfSxcbiAgICAgICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBjeWNsZUxlbmd0aDogMjgsXG4gICAgICAgICAgcGVyaW9kTGVuZ3RoOiA1LFxuICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIHBlcmlvZFJlbWluZGVyOiB0cnVlLFxuICAgICAgICAgICAgb3Z1bGF0aW9uUmVtaW5kZXI6IHRydWUsXG4gICAgICAgICAgICBtb29kVHJhY2tpbmc6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcml2YWN5OiB7XG4gICAgICAgICAgICBwcm9maWxlVmlzaWJpbGl0eTogXCJwdWJsaWNcIixcbiAgICAgICAgICAgIHNoYXJlRGF0YTogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3Vic2NyaXB0aW9uOiB7XG4gICAgICAgICAgcGxhbjogXCJmcmVlXCIsXG4gICAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGVuZERhdGU6IG51bGwsXG4gICAgICAgICAgc3RyaXBlQ3VzdG9tZXJJZDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJPcHMuY3JlYXRlVXNlcihuZXdVc2VyKVxuXG4gICAgICAvLyBHZW5lcmF0ZSBKV1QgdG9rZW5cbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5nZW5lcmF0ZVRva2VuKHJlc3VsdC5pbnNlcnRlZElkKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB1c2VyOiB7IC4uLm5ld1VzZXIsIF9pZDogcmVzdWx0Lmluc2VydGVkSWQgfSxcbiAgICAgICAgdG9rZW4sXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGJPcHMgPSBhd2FpdCB0aGlzLmVuc3VyZURhdGFiYXNlKClcbiAgICAgIFxuICAgICAgLy8gRmluZCB1c2VyIGJ5IGVtYWlsXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGJPcHMuZmluZFVzZXJCeUVtYWlsKGVtYWlsKVxuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIilcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHBhc3N3b3JkXG4gICAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIilcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgSldUIHRva2VuXG4gICAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2VuZXJhdGVUb2tlbih1c2VyLl9pZClcblxuICAgICAgLy8gUmVtb3ZlIHBhc3N3b3JkIGZyb20gdXNlciBvYmplY3RcbiAgICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IHVzZXJcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXNlcjogdXNlcldpdGhvdXRQYXNzd29yZCxcbiAgICAgICAgdG9rZW4sXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZVRva2VuKHVzZXJJZCkge1xuICAgIHJldHVybiBqd3Quc2lnbih7IHVzZXJJZDogdXNlcklkLnRvU3RyaW5nKCkgfSwgSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46IFwiN2RcIiB9KVxuICB9XG5cbiAgdmVyaWZ5VG9rZW4odG9rZW4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpXG4gICAgICByZXR1cm4gZGVjb2RlZFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIGV4cGlyZWQgdG9rZW5cIilcbiAgICB9XG4gIH1cblxuICAvLyBNaWRkbGV3YXJlIGZvciBwcm90ZWN0aW5nIHJvdXRlc1xuICBhc3luYyBhdXRoZW50aWNhdGVUb2tlbihyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl1cbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV0gLy8gQmVhcmVyIFRPS0VOXG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJBY2Nlc3MgdG9rZW4gcmVxdWlyZWRcIiB9KVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZWNvZGVkID0gdGhpcy52ZXJpZnlUb2tlbih0b2tlbilcbiAgICAgIHJlcS51c2VySWQgPSBkZWNvZGVkLnVzZXJJZFxuICAgICAgbmV4dCgpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiBcIkludmFsaWQgb3IgZXhwaXJlZCB0b2tlblwiIH0pXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwiY29ubmVjdFRvRGF0YWJhc2UiLCJEYXRhYmFzZU9wZXJhdGlvbnMiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsIkF1dGhTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJkYk9wcyIsImluaXRQcm9taXNlIiwiaW5pdERhdGFiYXNlIiwiZGIiLCJlcnJvciIsImNvbnNvbGUiLCJlbnN1cmVEYXRhYmFzZSIsInJlZ2lzdGVyIiwidXNlckRhdGEiLCJleGlzdGluZ1VzZXIiLCJmaW5kVXNlckJ5RW1haWwiLCJlbWFpbCIsIkVycm9yIiwic2FsdFJvdW5kcyIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsInBhc3N3b3JkIiwibmV3VXNlciIsInByb2ZpbGUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImRhdGVPZkJpcnRoIiwicHJvZmlsZVBpY3R1cmUiLCJiaW8iLCJsb2NhdGlvbiIsInByZWZlcmVuY2VzIiwiY3ljbGVMZW5ndGgiLCJwZXJpb2RMZW5ndGgiLCJub3RpZmljYXRpb25zIiwicGVyaW9kUmVtaW5kZXIiLCJvdnVsYXRpb25SZW1pbmRlciIsIm1vb2RUcmFja2luZyIsInByaXZhY3kiLCJwcm9maWxlVmlzaWJpbGl0eSIsInNoYXJlRGF0YSIsInN1YnNjcmlwdGlvbiIsInBsYW4iLCJzdGFydERhdGUiLCJEYXRlIiwiZW5kRGF0ZSIsInN0cmlwZUN1c3RvbWVySWQiLCJyZXN1bHQiLCJjcmVhdGVVc2VyIiwidG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwiaW5zZXJ0ZWRJZCIsInN1Y2Nlc3MiLCJ1c2VyIiwiX2lkIiwibWVzc2FnZSIsImxvZ2luIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZSIsIl8iLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwidXNlcklkIiwic2lnbiIsInRvU3RyaW5nIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiYXV0aGVudGljYXRlVG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJzcGxpdCIsInN0YXR1cyIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/auth.js\n");

/***/ }),

/***/ "(rsc)/./lib/database/mongodb.js":
/*!*********************************!*\
  !*** ./lib/database/mongodb.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseOperations: () => (/* binding */ DatabaseOperations),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// MongoDB Connection and Database Operations\n\nlet client;\nlet db;\nasync function connectToDatabase() {\n    if (db) {\n        return {\n            db,\n            client\n        };\n    }\n    try {\n        // Replace with your MongoDB connection string\n        const uri = process.env.MONGODB_URI || \"mongodb://localhost:27017/symmuse\";\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri);\n        await client.connect();\n        db = client.db(\"symmuse\");\n        console.log(\"Connected to MongoDB\");\n        return {\n            db,\n            client\n        };\n    } catch (error) {\n        console.error(\"Failed to connect to MongoDB:\", error);\n        throw error;\n    }\n}\n// Database Operations Helper Functions\nclass DatabaseOperations {\n    constructor(db){\n        this.db = db;\n    }\n    // User Operations\n    async createUser(userData) {\n        const users = this.db.collection(\"users\");\n        return await users.insertOne({\n            ...userData,\n            createdAt: new Date(),\n            updatedAt: new Date()\n        });\n    }\n    async findUserByEmail(email) {\n        const users = this.db.collection(\"users\");\n        return await users.findOne({\n            email\n        });\n    }\n    async updateUser(userId, updateData) {\n        const users = this.db.collection(\"users\");\n        return await users.updateOne({\n            _id: userId\n        }, {\n            $set: {\n                ...updateData,\n                updatedAt: new Date()\n            }\n        });\n    }\n    // Period Tracking Operations\n    async logPeriod(periodData) {\n        const periods = this.db.collection(\"periods\");\n        return await periods.insertOne({\n            ...periodData,\n            createdAt: new Date(),\n            updatedAt: new Date()\n        });\n    }\n    async getUserPeriods(userId, limit = 12) {\n        const periods = this.db.collection(\"periods\");\n        return await periods.find({\n            userId\n        }).sort({\n            startDate: -1\n        }).limit(limit).toArray();\n    }\n    // Mood Tracking Operations\n    async logMood(moodData) {\n        const moods = this.db.collection(\"mood_tracking\");\n        return await moods.insertOne({\n            ...moodData,\n            createdAt: new Date()\n        });\n    }\n    async getUserMoods(userId, startDate, endDate) {\n        const moods = this.db.collection(\"mood_tracking\");\n        return await moods.find({\n            userId,\n            date: {\n                $gte: startDate,\n                $lte: endDate\n            }\n        }).sort({\n            date: -1\n        }).toArray();\n    }\n    // Community Operations\n    async createPost(postData) {\n        const posts = this.db.collection(\"community_posts\");\n        return await posts.insertOne({\n            ...postData,\n            likes: [],\n            comments: [],\n            createdAt: new Date(),\n            updatedAt: new Date()\n        });\n    }\n    async getCommunityPosts(category = null, limit = 20, skip = 0) {\n        const posts = this.db.collection(\"community_posts\");\n        const query = category ? {\n            category\n        } : {};\n        return await posts.find(query).sort({\n            createdAt: -1\n        }).skip(skip).limit(limit).toArray();\n    }\n    // Consultation Operations\n    async bookConsultation(consultationData) {\n        const consultations = this.db.collection(\"consultations\");\n        return await consultations.insertOne({\n            ...consultationData,\n            status: \"scheduled\",\n            createdAt: new Date(),\n            updatedAt: new Date()\n        });\n    }\n    async getUserConsultations(userId) {\n        const consultations = this.db.collection(\"consultations\");\n        return await consultations.find({\n            userId\n        }).sort({\n            appointmentDate: -1\n        }).toArray();\n    }\n    // Notification Operations\n    async createNotification(notificationData) {\n        const notifications = this.db.collection(\"notifications\");\n        return await notifications.insertOne({\n            ...notificationData,\n            isRead: false,\n            createdAt: new Date()\n        });\n    }\n    async getUserNotifications(userId, limit = 50) {\n        const notifications = this.db.collection(\"notifications\");\n        return await notifications.find({\n            userId\n        }).sort({\n            createdAt: -1\n        }).limit(limit).toArray();\n    }\n    async getUnreadNotificationCount(userId) {\n        const notifications = this.db.collection(\"notifications\");\n        return await notifications.countDocuments({\n            userId,\n            isRead: false\n        });\n    }\n    async markNotificationAsRead(notificationId) {\n        const notifications = this.db.collection(\"notifications\");\n        return await notifications.updateOne({\n            _id: notificationId\n        }, {\n            $set: {\n                isRead: true\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLEdBQUdXLElBQUksQ0FBQztZQUFFeUIsaUJBQWlCLENBQUM7UUFBRSxHQUFHdkIsT0FBTztJQUNuRjtJQUVBLDBCQUEwQjtJQUMxQixNQUFNd0IsbUJBQW1CQyxnQkFBZ0IsRUFBRTtRQUN6QyxNQUFNQyxnQkFBZ0IsSUFBSSxDQUFDL0QsRUFBRSxDQUFDZSxVQUFVLENBQUM7UUFDekMsT0FBTyxNQUFNZ0QsY0FBYy9DLFNBQVMsQ0FBQztZQUNuQyxHQUFHOEMsZ0JBQWdCO1lBQ25CRSxRQUFRO1lBQ1IvQyxXQUFXLElBQUlDO1FBQ2pCO0lBQ0Y7SUFFQSxNQUFNK0MscUJBQXFCekMsTUFBTSxFQUFFUyxRQUFRLEVBQUUsRUFBRTtRQUM3QyxNQUFNOEIsZ0JBQWdCLElBQUksQ0FBQy9ELEVBQUUsQ0FBQ2UsVUFBVSxDQUFDO1FBQ3pDLE9BQU8sTUFBTWdELGNBQ1Y3QixJQUFJLENBQUM7WUFBRVY7UUFBTyxHQUNkVyxJQUFJLENBQUM7WUFBRWxCLFdBQVcsQ0FBQztRQUFFLEdBQ3JCZ0IsS0FBSyxDQUFDQSxPQUNOSSxPQUFPO0lBQ1o7SUFFQSxNQUFNNkIsMkJBQTJCMUMsTUFBTSxFQUFFO1FBQ3ZDLE1BQU11QyxnQkFBZ0IsSUFBSSxDQUFDL0QsRUFBRSxDQUFDZSxVQUFVLENBQUM7UUFDekMsT0FBTyxNQUFNZ0QsY0FBY0ksY0FBYyxDQUFDO1lBQUUzQztZQUFRd0MsUUFBUTtRQUFNO0lBQ3BFO0lBRUEsTUFBTUksdUJBQXVCQyxjQUFjLEVBQUU7UUFDM0MsTUFBTU4sZ0JBQWdCLElBQUksQ0FBQy9ELEVBQUUsQ0FBQ2UsVUFBVSxDQUFDO1FBQ3pDLE9BQU8sTUFBTWdELGNBQWNyQyxTQUFTLENBQ2xDO1lBQUVDLEtBQUswQztRQUFlLEdBQ3RCO1lBQUV6QyxNQUFNO2dCQUFFb0MsUUFBUTtZQUFLO1FBQUU7SUFFN0I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvZGF0YWJhc2UvbW9uZ29kYi5qcz85M2IzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vbmdvREIgQ29ubmVjdGlvbiBhbmQgRGF0YWJhc2UgT3BlcmF0aW9uc1xuaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tIFwibW9uZ29kYlwiXG5cbmxldCBjbGllbnRcbmxldCBkYlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvRGF0YWJhc2UoKSB7XG4gIGlmIChkYikge1xuICAgIHJldHVybiB7IGRiLCBjbGllbnQgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBSZXBsYWNlIHdpdGggeW91ciBNb25nb0RCIGNvbm5lY3Rpb24gc3RyaW5nXG4gICAgY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3N5bW11c2VcIlxuXG4gICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSlcblxuICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KClcbiAgICBkYiA9IGNsaWVudC5kYihcInN5bW11c2VcIilcblxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIE1vbmdvREJcIilcbiAgICByZXR1cm4geyBkYiwgY2xpZW50IH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gTW9uZ29EQjpcIiwgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4vLyBEYXRhYmFzZSBPcGVyYXRpb25zIEhlbHBlciBGdW5jdGlvbnNcbmV4cG9ydCBjbGFzcyBEYXRhYmFzZU9wZXJhdGlvbnMge1xuICBjb25zdHJ1Y3RvcihkYikge1xuICAgIHRoaXMuZGIgPSBkYlxuICB9XG5cbiAgLy8gVXNlciBPcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGEpIHtcbiAgICBjb25zdCB1c2VycyA9IHRoaXMuZGIuY29sbGVjdGlvbihcInVzZXJzXCIpXG4gICAgcmV0dXJuIGF3YWl0IHVzZXJzLmluc2VydE9uZSh7XG4gICAgICAuLi51c2VyRGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZmluZFVzZXJCeUVtYWlsKGVtYWlsKSB7XG4gICAgY29uc3QgdXNlcnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgIHJldHVybiBhd2FpdCB1c2Vycy5maW5kT25lKHsgZW1haWwgfSlcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVVzZXIodXNlcklkLCB1cGRhdGVEYXRhKSB7XG4gICAgY29uc3QgdXNlcnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKVxuICAgIHJldHVybiBhd2FpdCB1c2Vycy51cGRhdGVPbmUoeyBfaWQ6IHVzZXJJZCB9LCB7ICRzZXQ6IHsgLi4udXBkYXRlRGF0YSwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0gfSlcbiAgfVxuXG4gIC8vIFBlcmlvZCBUcmFja2luZyBPcGVyYXRpb25zXG4gIGFzeW5jIGxvZ1BlcmlvZChwZXJpb2REYXRhKSB7XG4gICAgY29uc3QgcGVyaW9kcyA9IHRoaXMuZGIuY29sbGVjdGlvbihcInBlcmlvZHNcIilcbiAgICByZXR1cm4gYXdhaXQgcGVyaW9kcy5pbnNlcnRPbmUoe1xuICAgICAgLi4ucGVyaW9kRGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlclBlcmlvZHModXNlcklkLCBsaW1pdCA9IDEyKSB7XG4gICAgY29uc3QgcGVyaW9kcyA9IHRoaXMuZGIuY29sbGVjdGlvbihcInBlcmlvZHNcIilcbiAgICByZXR1cm4gYXdhaXQgcGVyaW9kcy5maW5kKHsgdXNlcklkIH0pLnNvcnQoeyBzdGFydERhdGU6IC0xIH0pLmxpbWl0KGxpbWl0KS50b0FycmF5KClcbiAgfVxuXG4gIC8vIE1vb2QgVHJhY2tpbmcgT3BlcmF0aW9uc1xuICBhc3luYyBsb2dNb29kKG1vb2REYXRhKSB7XG4gICAgY29uc3QgbW9vZHMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJtb29kX3RyYWNraW5nXCIpXG4gICAgcmV0dXJuIGF3YWl0IG1vb2RzLmluc2VydE9uZSh7XG4gICAgICAuLi5tb29kRGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlck1vb2RzKHVzZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgY29uc3QgbW9vZHMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJtb29kX3RyYWNraW5nXCIpXG4gICAgcmV0dXJuIGF3YWl0IG1vb2RzXG4gICAgICAuZmluZCh7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgZGF0ZTogeyAkZ3RlOiBzdGFydERhdGUsICRsdGU6IGVuZERhdGUgfSxcbiAgICAgIH0pXG4gICAgICAuc29ydCh7IGRhdGU6IC0xIH0pXG4gICAgICAudG9BcnJheSgpXG4gIH1cblxuICAvLyBDb21tdW5pdHkgT3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVQb3N0KHBvc3REYXRhKSB7XG4gICAgY29uc3QgcG9zdHMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJjb21tdW5pdHlfcG9zdHNcIilcbiAgICByZXR1cm4gYXdhaXQgcG9zdHMuaW5zZXJ0T25lKHtcbiAgICAgIC4uLnBvc3REYXRhLFxuICAgICAgbGlrZXM6IFtdLFxuICAgICAgY29tbWVudHM6IFtdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH0pXG4gIH1cblxuICBhc3luYyBnZXRDb21tdW5pdHlQb3N0cyhjYXRlZ29yeSA9IG51bGwsIGxpbWl0ID0gMjAsIHNraXAgPSAwKSB7XG4gICAgY29uc3QgcG9zdHMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJjb21tdW5pdHlfcG9zdHNcIilcbiAgICBjb25zdCBxdWVyeSA9IGNhdGVnb3J5ID8geyBjYXRlZ29yeSB9IDoge31cblxuICAgIHJldHVybiBhd2FpdCBwb3N0cy5maW5kKHF1ZXJ5KS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KS5za2lwKHNraXApLmxpbWl0KGxpbWl0KS50b0FycmF5KClcbiAgfVxuXG4gIC8vIENvbnN1bHRhdGlvbiBPcGVyYXRpb25zXG4gIGFzeW5jIGJvb2tDb25zdWx0YXRpb24oY29uc3VsdGF0aW9uRGF0YSkge1xuICAgIGNvbnN0IGNvbnN1bHRhdGlvbnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJjb25zdWx0YXRpb25zXCIpXG4gICAgcmV0dXJuIGF3YWl0IGNvbnN1bHRhdGlvbnMuaW5zZXJ0T25lKHtcbiAgICAgIC4uLmNvbnN1bHRhdGlvbkRhdGEsXG4gICAgICBzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJDb25zdWx0YXRpb25zKHVzZXJJZCkge1xuICAgIGNvbnN0IGNvbnN1bHRhdGlvbnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJjb25zdWx0YXRpb25zXCIpXG4gICAgcmV0dXJuIGF3YWl0IGNvbnN1bHRhdGlvbnMuZmluZCh7IHVzZXJJZCB9KS5zb3J0KHsgYXBwb2ludG1lbnREYXRlOiAtMSB9KS50b0FycmF5KClcbiAgfVxuXG4gIC8vIE5vdGlmaWNhdGlvbiBPcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25EYXRhKSB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IHRoaXMuZGIuY29sbGVjdGlvbihcIm5vdGlmaWNhdGlvbnNcIilcbiAgICByZXR1cm4gYXdhaXQgbm90aWZpY2F0aW9ucy5pbnNlcnRPbmUoe1xuICAgICAgLi4ubm90aWZpY2F0aW9uRGF0YSxcbiAgICAgIGlzUmVhZDogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJOb3RpZmljYXRpb25zKHVzZXJJZCwgbGltaXQgPSA1MCkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJub3RpZmljYXRpb25zXCIpXG4gICAgcmV0dXJuIGF3YWl0IG5vdGlmaWNhdGlvbnNcbiAgICAgIC5maW5kKHsgdXNlcklkIH0pXG4gICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC50b0FycmF5KClcbiAgfVxuXG4gIGFzeW5jIGdldFVucmVhZE5vdGlmaWNhdGlvbkNvdW50KHVzZXJJZCkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJub3RpZmljYXRpb25zXCIpXG4gICAgcmV0dXJuIGF3YWl0IG5vdGlmaWNhdGlvbnMuY291bnREb2N1bWVudHMoeyB1c2VySWQsIGlzUmVhZDogZmFsc2UgfSlcbiAgfVxuXG4gIGFzeW5jIG1hcmtOb3RpZmljYXRpb25Bc1JlYWQobm90aWZpY2F0aW9uSWQpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb25zID0gdGhpcy5kYi5jb2xsZWN0aW9uKFwibm90aWZpY2F0aW9uc1wiKVxuICAgIHJldHVybiBhd2FpdCBub3RpZmljYXRpb25zLnVwZGF0ZU9uZShcbiAgICAgIHsgX2lkOiBub3RpZmljYXRpb25JZCB9LFxuICAgICAgeyAkc2V0OiB7IGlzUmVhZDogdHJ1ZSB9IH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsImNsaWVudCIsImRiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiRGF0YWJhc2VPcGVyYXRpb25zIiwiY29uc3RydWN0b3IiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJ1c2VycyIsImNvbGxlY3Rpb24iLCJpbnNlcnRPbmUiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZmluZFVzZXJCeUVtYWlsIiwiZW1haWwiLCJmaW5kT25lIiwidXBkYXRlVXNlciIsInVzZXJJZCIsInVwZGF0ZURhdGEiLCJ1cGRhdGVPbmUiLCJfaWQiLCIkc2V0IiwibG9nUGVyaW9kIiwicGVyaW9kRGF0YSIsInBlcmlvZHMiLCJnZXRVc2VyUGVyaW9kcyIsImxpbWl0IiwiZmluZCIsInNvcnQiLCJzdGFydERhdGUiLCJ0b0FycmF5IiwibG9nTW9vZCIsIm1vb2REYXRhIiwibW9vZHMiLCJnZXRVc2VyTW9vZHMiLCJlbmREYXRlIiwiZGF0ZSIsIiRndGUiLCIkbHRlIiwiY3JlYXRlUG9zdCIsInBvc3REYXRhIiwicG9zdHMiLCJsaWtlcyIsImNvbW1lbnRzIiwiZ2V0Q29tbXVuaXR5UG9zdHMiLCJjYXRlZ29yeSIsInNraXAiLCJxdWVyeSIsImJvb2tDb25zdWx0YXRpb24iLCJjb25zdWx0YXRpb25EYXRhIiwiY29uc3VsdGF0aW9ucyIsInN0YXR1cyIsImdldFVzZXJDb25zdWx0YXRpb25zIiwiYXBwb2ludG1lbnREYXRlIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uRGF0YSIsIm5vdGlmaWNhdGlvbnMiLCJpc1JlYWQiLCJnZXRVc2VyTm90aWZpY2F0aW9ucyIsImdldFVucmVhZE5vdGlmaWNhdGlvbkNvdW50IiwiY291bnREb2N1bWVudHMiLCJtYXJrTm90aWZpY2F0aW9uQXNSZWFkIiwibm90aWZpY2F0aW9uSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/jsonwebtoken","vendor-chunks/jws","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/bcryptjs","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fstutishah%2FDownloads%2Fflowcare&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();